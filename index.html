<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CursorCam - Music-Reactive Constellation Engine</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Main Canvas -->
    <canvas id="constellation-canvas"></canvas>

    <!-- Performance Monitor -->
    <div id="performance-monitor">
        <div class="perf-item">
            <span class="perf-label">FPS:</span>
            <span id="fps-value">--</span>
        </div>
        <div class="perf-item">
            <span class="perf-label">Frame:</span>
            <span id="frametime-value">--</span>ms
        </div>
        <div class="perf-item">
            <span class="perf-label">Nodes:</span>
            <span id="node-count">--</span>
        </div>
        <div class="perf-item">
            <span class="perf-label">Edges:</span>
            <span id="edge-count">--</span>
        </div>
    </div>

    <!-- Control Panel -->
    <div id="control-panel" class="collapsed">
        <button id="panel-toggle" class="panel-toggle">âš™ï¸</button>

        <div class="panel-content">
            <h2>CursorCam Controls</h2>

            <!-- Audio Controls -->
            <div class="control-section">
                <h3>Audio</h3>
                <button id="start-audio" class="primary-btn">Start Audio</button>
                <div class="status-indicator">
                    <span class="status-dot" id="audio-status"></span>
                    <span id="audio-status-text">Audio Inactive</span>
                </div>
            </div>

            <!-- Pattern Mode -->
            <div class="control-section">
                <h3>Pattern Mode</h3>
                <select id="pattern-mode" class="mode-selector">
                    <option value="static">ğŸ§˜ Minimal Calm</option>
                    <option value="pulsing" selected>ğŸ’“ Pulsing Mesh</option>
                    <option value="polygon">ğŸ”· Polygon Emergence</option>
                    <option value="stereo">ğŸµ Stereo Split</option>
                    <option value="tunnel">ğŸŒ€ Neon Tunnel</option>
                    <option value="diamond-strobe">ğŸ’ Strobe Diamond</option>
                    <option value="hyperspace">ğŸš€ Hyperspace Tunnel</option>
                    <option value="waveform">ğŸ“Š Waveform Spectrum</option>
                    <option value="particles">âœ¨ Particle Energy</option>
                    <option value="cyberpunk">ğŸŒ† Cyberpunk Mode</option>
                    <option value="landscape">ğŸ”ï¸ Audio Landscape</option>

                </select>
            </div>

            <!-- Sliders -->
            <div class="control-section">
                <h3>Parameters</h3>

                <div class="slider-group">
                    <label for="node-density">
                        Node Density
                        <span class="slider-value" id="node-density-value">500</span>
                    </label>
                    <input type="range" id="node-density" min="100" max="2000" value="500" step="50">
                </div>

                <div class="slider-group">
                    <label for="connection-range">
                        Connection Range
                        <span class="slider-value" id="connection-range-value">150</span>px
                    </label>
                    <input type="range" id="connection-range" min="50" max="300" value="150" step="10">
                </div>

                <div class="slider-group">
                    <label for="color-aggression">
                        Color Intensity
                        <span class="slider-value" id="color-aggression-value">1.0</span>x
                    </label>
                    <input type="range" id="color-aggression" min="0.5" max="2.0" value="1.0" step="0.1">
                </div>

                <div class="slider-group">
                    <label for="beat-sensitivity">
                        Beat Sensitivity
                        <span class="slider-value" id="beat-sensitivity-value">0.6</span>
                    </label>
                    <input type="range" id="beat-sensitivity" min="0.3" max="1.0" value="0.6" step="0.05">
                </div>
            </div>

            <!-- Cyberpunk Mode Controls (hidden by default) -->
            <div id="cyberpunk-controls" class="control-section cyberpunk-section" style="display:none;">
                <h3>âš¡ Cyberpunk Settings</h3>

                <div class="slider-group">
                    <label for="lightning-intensity">
                        Lightning Intensity
                        <span class="slider-value" id="lightning-intensity-value">1.0</span>x
                    </label>
                    <input type="range" id="lightning-intensity" min="0" max="2" value="1.0" step="0.1">
                </div>

                <div class="slider-group">
                    <label for="particle-density">
                        Particle Density
                        <span class="slider-value" id="particle-density-value">1.0</span>x
                    </label>
                    <input type="range" id="particle-density" min="0.2" max="2" value="1.0" step="0.1">
                </div>

                <div class="slider-group">
                    <label for="cyberpunk-mode-override">
                        Mode Override
                    </label>
                    <select id="cyberpunk-mode-override" class="mode-selector">
                        <option value="auto" selected>ğŸµ Auto (Reactive)</option>
                        <option value="overdrive">âš¡ Overdrive</option>
                        <option value="core">ğŸ”¥ Core</option>
                        <option value="glitch">ğŸ§Š Glitch</option>
                        <option value="portal">ğŸŒ€ Portal</option>
                    </select>
                </div>
            </div>

            <!-- Waveform Mode Controls (hidden by default) -->
            <div id="waveform-controls" class="control-section waveform-section" style="display:none;">
                <h3>ğŸ“Š Waveform Settings</h3>

                <div class="slider-group">
                    <label for="waveform-mode">Visualization Mode</label>
                    <select id="waveform-mode" class="mode-selector">
                        <option value="bar">ğŸ“Š Bar Spectrum</option>
                        <option value="circular">â­• Circular Spectrum</option>
                        <option value="waveform">ã€°ï¸ Waveform</option>
                        <option value="spectrogram">ğŸŒˆ Spectrogram</option>
                        <option value="circular-wave">ğŸ¯ Circular Waveform</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Particle Energy Controls (hidden by default) -->
        <div id="particle-controls" class="control-section particle-section" style="display:none;">
            <h3>âœ¨ Particle Settings</h3>

            <div class="slider-group">
                <label for="particle-behavior">Behavior Mode</label>
                <select id="particle-behavior" class="mode-selector">
                    <option value="flow">ğŸŒŠ Flow</option>
                    <option value="flocking">ğŸ¦ Flocking</option>
                    <option value="vortex">ğŸŒ€ Vortex</option>
                    <option value="explosion">ğŸ’¥ Explosion</option>
                    <option value="wells">ğŸŒŒ Gravity Wells</option>
                    <option value="shapes">â¬¡ Shape Formation</option>
                </select>
            </div>
        </div>

        <!-- Hyperspace Tunnel Controls (hidden by default) -->
        <div id="hyperspace-controls" class="control-section hyperspace-section" style="display:none;">
            <h3>ğŸš€ Hyperspace Settings</h3>

            <div class="slider-group">
                <label for="hyperspace-quality">Quality Mode</label>
                <select id="hyperspace-quality" class="mode-selector">
                    <option value="low">âš¡ Low (Max FPS)</option>
                    <option value="medium">ğŸ“Š Medium (Balanced)</option>
                    <option value="high" selected>âœ¨ High (Recommended)</option>
                    <option value="ultra">ğŸ’ Ultra (Best Quality)</option>
                    <option value="auto">ğŸ¤– Auto (Adaptive LOD)</option>
                </select>
            </div>
        </div>

        <!-- Strobe Diamond Tunnel Controls (hidden by default) -->
        <div id="strobe-controls" class="control-section strobe-section" style="display:none;">
            <h3>ğŸ’ Strobe Settings</h3>

            <div class="slider-group">
                <label for="strobe-pattern">Pattern Sequence</label>
                <select id="strobe-pattern" class="mode-selector">
                    <option value="classic" selected>ğŸ¯ Classic (Red/White)</option>
                    <option value="double">âš¡ Double Pulse</option>
                    <option value="triplet">ğŸ¼ Triplet</option>
                    <option value="quad">ğŸŒˆ Quad (RGB Mix)</option>
                    <option value="random">ğŸ² Random</option>
                </select>
            </div>

            <div class="slider-group">
                <label for="strobe-color">Color Mode</label>
                <select id="strobe-color" class="mode-selector">
                    <option value="normal" selected>âšª Normal</option>
                    <option value="rgb">ğŸŒˆ RGB Cycle</option>
                    <option value="rainbow">ğŸ¨ Rainbow</option>
                </select>
            </div>

            <div class="slider-group">
                <label for="strobe-morse">Morse Code</label>
                <select id="strobe-morse" class="mode-selector">
                    <option value="off" selected>âŒ Off</option>
                    <option value="beat">ğŸ¥ Beat (Flash Every Beat)</option>
                    <option value="s">ğŸ“¡ S (Â·Â·Â·)</option>
                    <option value="o">ğŸ“¡ O (â”€â”€â”€)</option>
                </select>
            </div>
        </div>



        <!-- Info -->
        <div class="control-section info-section">
            <p class="info-text">ğŸµ Play music near your microphone to see the constellation react</p>
        </div>
    </div>
    </div>

    <!-- Audio Permission Overlay -->
    <div id="permission-overlay" class="overlay">
        <div class="overlay-content">
            <h1>ğŸµ CursorCam</h1>
            <p>Music-Reactive Constellation Engine</p>
            <button id="grant-permission" class="primary-btn large">Enable Microphone</button>
            <p class="overlay-hint">Microphone access is required for audio analysis</p>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="main.js"></script>
</body>

</html>